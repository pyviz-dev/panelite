"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[768],{90768:(e,t,s)=>{s.r(t),s.d(t,{GroupItem:()=>b,IStatusBar:()=>he,KernelStatus:()=>X,LineCol:()=>H,MemoryUsage:()=>ne,Popup:()=>A,ProgressBar:()=>l,RunningSessions:()=>ee,StatusBar:()=>le,TextItem:()=>p,clickedItem:()=>L,interactiveItem:()=>N,item:()=>R,leftSide:()=>w,rightSide:()=>B,showPopup:()=>O,side:()=>E,statusBar:()=>M});var i=s(57213),n=s.n(i),r=s(73062);const o=(0,r.oB)({background:"black",height:"10px",width:"100px",border:"1px solid black",borderRadius:"3px",marginLeft:"4px",overflow:"hidden"}),a=(0,r.oB)({background:"var(--jp-brand-color2)",height:"10px"});function l(e){return i.createElement("div",{className:o},i.createElement(h,{percentage:e.percentage}))}function h(e){return i.createElement("div",{className:a,style:{width:`${e.percentage}px`}})}const d="24px",c="var(--jp-ui-font-color1)",u="10px",m={fontSize:"var(--jp-ui-font-size1)",fontFamily:"var(--jp-ui-font-family)"},_=(0,r.oB)(m,{lineHeight:"24px",color:c}),g=(0,r.oB)(m,{backgroundColor:"#FFD2D2",color:"#D8000C"});function p(e){const{title:t,source:s,className:n}=e,o=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(s[i[n]]=e[i[n]])}return s}(e,["title","source","className"]);return i.createElement("span",Object.assign({className:(0,r.Sh)(_,n),title:t},o),s)}const v={display:"flex",alignItems:"center"},C={flexDirection:"row"};const y=(0,r.oB)(v,C);function b(e){const{spacing:t,children:s,className:n}=e,o=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(s[i[n]]=e[i[n]])}return s}(e,["spacing","children","className"]),a=i.Children.count(s);return i.createElement("div",Object.assign({className:(0,r.Sh)(y,n)},o),i.Children.map(s,((e,s)=>0===s?i.createElement("div",{style:{marginRight:`${t}px`}},e):s===a-1?i.createElement("div",{style:{marginLeft:`${t}px`}},e):i.createElement("div",{style:{margin:`0px ${t}px`}},e))))}var x=s(69046),f=s(28877);const S={paddingLeft:"6px",paddingRight:"6px"},I={$nest:{"&:hover":{backgroundColor:"var(--jp-layout-color3)"}}},k={backgroundColor:"var(--jp-brand-color1)",$nest:{["."+_]:{color:"white"}}},M=(0,r.oB)({background:"var(--jp-layout-color2)",minHeight:d,justifyContent:"space-between",paddingLeft:u,paddingRight:u},v),E=(0,r.oB)(v),w=(0,r.oB)(C),B=(0,r.oB)({flexDirection:"row-reverse"}),R=(0,r.oB)({maxHeight:d,marginLeft:"2px",marginRight:"2px",height:d,whiteSpace:"nowrap",textOverflow:"ellipsis",color:c},S),L=(0,r.oB)(k),N=(0,r.oB)(I),T=(0,r.oB)({boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"});function O(e){const t=new A(e);return t.launch(),t}class A extends f.Widget{constructor(e){super(),this._body=e.body,this._body.addClass(T),this._anchor=e.anchor,this._align=e.align,(this.layout=new f.PanelLayout).addWidget(e.body),this._body.node.addEventListener("resize",(()=>{this.update()}))}launch(){this._setGeometry(),f.Widget.attach(this,document.body),this.update(),this._anchor.addClass(L),this._anchor.removeClass(N)}onUpdateRequest(e){this._setGeometry(),super.onUpdateRequest(e)}onAfterAttach(e){document.addEventListener("click",this,!1),this.node.addEventListener("keydown",this,!1),window.addEventListener("resize",this,!1)}onAfterDetach(e){document.removeEventListener("click",this,!1),this.node.removeEventListener("keydown",this,!1),window.removeEventListener("resize",this,!1)}onResize(){this.update()}dispose(){super.dispose(),this._anchor.removeClass(L),this._anchor.addClass(N)}handleEvent(e){switch(e.type){case"keydown":this._evtKeydown(e);break;case"click":this._evtClick(e);break;case"resize":this.onResize()}}_evtClick(e){!e.target||this._body.node.contains(e.target)||this._anchor.node.contains(e.target)||this.dispose()}_evtKeydown(e){27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),this.dispose())}_setGeometry(){let e=0;const t=this._anchor.node.getBoundingClientRect(),s=this._body.node.getBoundingClientRect();"right"===this._align&&(e=-(s.width-t.width));const i=window.getComputedStyle(this._body.node);x.HoverBox.setGeometry({anchor:t,host:document.body,maxHeight:500,minHeight:20,node:this._body.node,offset:{horizontal:e},privilege:"forceAbove",style:i})}}var j=s(91581);(0,r.oB)({boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"});const P=(0,r.oB)({padding:"4px 12px",backgroundColor:"var(--jp-layout-color2)",boxShadow:"var(--jp-toolbar-box-shadow)",zIndex:2,fontSize:"var(--jp-ui-font-size1)"}),U=(0,r.oB)({fontSize:"var(--jp-ui-font-size0)",lineHeight:"var(--jp-ui-font-size1)",marginTop:"4px",color:"var(--jp-ui-font-color0)"}),D={border:"none",borderRadius:"0px",position:"absolute",backgroundSize:"16px",backgroundRepeat:"no-repeat",backgroundPosition:"center",outline:"none",top:"0px",right:"0px"},$=(0,r.oB)(D,{top:"4px",right:"8px",height:"24px",padding:"0px 12px",width:"12px"}),z=(0,r.oB)(D,{backgroundColor:"var(--jp-brand-color1)",height:"100%",width:"100%",boxSizing:"border-box",padding:"4px 6px"}),F=(0,r.oB)(D,{backgroundColor:"transparent",height:"100%",width:"100%",boxSizing:"border-box"}),K=(0,r.oB)({overflow:"hidden",padding:"0px 8px",border:"1px solid var(--jp-border-color0)",backgroundColor:"var(--jp-input-active-background)",height:"22px"}),Y=(0,r.oB)({border:"var(--jp-border-width) solid var(--md-blue-500)",boxShadow:"inset 0 0 4px var(--md-blue-300)"}),W=(0,r.oB)({background:"transparent",width:"200px",height:"100%",border:"none",outline:"none",color:"var(--jp-ui-font-color0)",lineHeight:"28px"});class G extends n().Component{constructor(e){super(e),this._handleChange=e=>{this.setState({value:e.currentTarget.value})},this._handleSubmit=e=>{e.preventDefault();const t=parseInt(this._textInput.value,10);return!isNaN(t)&&isFinite(t)&&1<=t&&t<=this.props.maxLine&&this.props.handleSubmit(t),!1},this._handleFocus=()=>{this.setState({hasFocus:!0})},this._handleBlur=()=>{this.setState({hasFocus:!1})},this._textInput=null,this.state={value:"",hasFocus:!1}}componentDidMount(){this._textInput.focus()}render(){return n().createElement("div",{className:P},n().createElement("form",{name:"lineColumnForm",onSubmit:this._handleSubmit,noValidate:!0},n().createElement("div",{className:(0,r.Sh)(K,"lm-lineForm-wrapper",this.state.hasFocus?Y:void 0)},n().createElement("input",{type:"text",className:W,onChange:this._handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur,value:this.state.value,ref:e=>{this._textInput=e}}),n().createElement("div",{className:$},n().createElement(j.lineFormIcon.react,{className:z,elementPosition:"center"}),n().createElement("input",{type:"submit",className:F,value:""}))),n().createElement("label",{className:U},"Go to line number between 1 and ",this.props.maxLine)))}}function V(e){return n().createElement(p,{onClick:e.handleClick,source:`Ln ${e.line}, Col ${e.column}`,title:"Go to line numberâ€¦"})}class H extends x.VDomRenderer{constructor(){super(new H.Model),this._popup=null,this.addClass(N)}render(){return null===this.model?null:n().createElement(V,{line:this.model.line,column:this.model.column,handleClick:()=>this._handleClick()})}_handleClick(){this._popup&&this._popup.dispose();const e=x.ReactWidget.create(n().createElement(G,{handleSubmit:e=>this._handleSubmit(e),currentLine:this.model.line,maxLine:this.model.editor.lineCount}));this._popup=O({body:e,anchor:this,align:"right"})}_handleSubmit(e){this.model.editor.setCursorPosition({line:e-1,column:0}),this._popup.dispose(),this.model.editor.focus()}}!function(e){class t extends x.VDomModel{constructor(){super(...arguments),this._onSelectionChanged=()=>{const e=this._getAllState(),t=this.editor.getCursorPosition();this._line=t.line+1,this._column=t.column+1,this._triggerChange(e,this._getAllState())},this._line=1,this._column=1,this._editor=null}get editor(){return this._editor}set editor(e){const t=this._editor;t&&t.model.selections.changed.disconnect(this._onSelectionChanged);const s=this._getAllState();if(this._editor=e,this._editor){this._editor.model.selections.changed.connect(this._onSelectionChanged);const e=this._editor.getCursorPosition();this._column=e.column+1,this._line=e.line+1}else this._column=1,this._line=1;this._triggerChange(s,this._getAllState())}get line(){return this._line}get column(){return this._column}_getAllState(){return[this._line,this._column]}_triggerChange(e,t){e[0]===t[0]&&e[1]===t[1]||this.stateChanged.emit(void 0)}}e.Model=t}(H||(H={}));var q=s(76528),J=s(74547);function Q(e){let t="";return e.status&&(t=` | ${q.Text.titleCase(e.status)}`),n().createElement(p,{onClick:e.handleClick,source:`${e.kernelName}${t}`,title:`Change kernel for ${e.activityName}`})}class X extends x.VDomRenderer{constructor(e){super(new X.Model),this._handleClick=e.onClick,this.addClass(N)}render(){return null===this.model?null:n().createElement(Q,{status:this.model.status,kernelName:this.model.kernelName,activityName:this.model.activityName,handleClick:this._handleClick})}}function Z(e){return n().createElement(b,{spacing:4,onClick:e.handleClick},n().createElement(b,{spacing:4},n().createElement(p,{source:e.terminals}),n().createElement(j.terminalIcon.react,{left:"1px",top:"3px",stylesheet:"statusBar"})),n().createElement(b,{spacing:4},n().createElement(p,{source:e.sessions}),n().createElement(j.kernelIcon.react,{top:"2px",stylesheet:"statusBar"})))}!function(e){class t extends x.VDomModel{constructor(){super(...arguments),this._onKernelStatusChanged=()=>{var e;this._kernelStatus=null===(e=this._sessionContext)||void 0===e?void 0:e.kernelDisplayStatus,this.stateChanged.emit(void 0)},this._onKernelChanged=(e,t)=>{var s;const i=this._getAllState();this._kernelStatus=null===(s=this._sessionContext)||void 0===s?void 0:s.kernelDisplayStatus,this._kernelName=e.kernelDisplayName,this._triggerChange(i,this._getAllState())},this._activityName="activity",this._kernelName="No Kernel!",this._kernelStatus="",this._sessionContext=null}get kernelName(){return this._kernelName}get status(){return this._kernelStatus}get activityName(){return this._activityName}set activityName(e){this._activityName!==e&&(this._activityName=e,this.stateChanged.emit(void 0))}get sessionContext(){return this._sessionContext}set sessionContext(e){var t,s,i,n,r,o,a,l;null===(t=this._sessionContext)||void 0===t||t.statusChanged.disconnect(this._onKernelStatusChanged),null===(s=this._sessionContext)||void 0===s||s.kernelChanged.disconnect(this._onKernelChanged);const h=this._getAllState();this._sessionContext=e,this._kernelStatus=null===(i=e)||void 0===i?void 0:i.kernelDisplayStatus,this._kernelName=null!=(r=null===(n=e)||void 0===n?void 0:n.kernelDisplayName)?r:"No Kernel",null===(o=e)||void 0===o||o.statusChanged.connect(this._onKernelStatusChanged,this),null===(a=e)||void 0===a||a.connectionStatusChanged.connect(this._onKernelStatusChanged,this),null===(l=e)||void 0===l||l.kernelChanged.connect(this._onKernelChanged,this),this._triggerChange(h,this._getAllState())}_getAllState(){return[this._kernelName,this._kernelStatus,this._activityName]}_triggerChange(e,t){J.JSONExt.deepEqual(e,t)&&this.stateChanged.emit(void 0)}}e.Model=t}(X||(X={}));class ee extends x.VDomRenderer{constructor(e){super(new ee.Model),this._serviceManager=e.serviceManager,this._handleClick=e.onClick,this._serviceManager.sessions.runningChanged.connect(this._onSessionsRunningChanged,this),this._serviceManager.terminals.runningChanged.connect(this._onTerminalsRunningChanged,this),this.addClass(N)}render(){return this.model?(this.title.caption=`${this.model.terminals} Terminals, ${this.model.sessions} Kernel sessions`,n().createElement(Z,{sessions:this.model.sessions,terminals:this.model.terminals,handleClick:this._handleClick})):null}dispose(){super.dispose(),this._serviceManager.sessions.runningChanged.disconnect(this._onSessionsRunningChanged,this),this._serviceManager.terminals.runningChanged.disconnect(this._onTerminalsRunningChanged,this)}_onSessionsRunningChanged(e,t){this.model.sessions=t.length}_onTerminalsRunningChanged(e,t){this.model.terminals=t.length}}!function(e){class t extends x.VDomModel{constructor(){super(...arguments),this._terminals=0,this._sessions=0}get sessions(){return this._sessions}set sessions(e){const t=this._sessions;this._sessions=e,t!==this._sessions&&this.stateChanged.emit(void 0)}get terminals(){return this._terminals}set terminals(e){const t=this._terminals;this._terminals=e,t!==this._terminals&&this.stateChanged.emit(void 0)}}e.Model=t}(ee||(ee={}));var te,se=s(48620),ie=s(54341);class ne extends x.VDomRenderer{constructor(){super(new ne.Model({refreshRate:5e3}))}render(){if(!this.model)return null;let e;return e=null===this.model.memoryLimit?`Mem: ${this.model.currentMemory.toFixed(te.DECIMAL_PLACES)} ${this.model.units}`:`Mem: ${this.model.currentMemory.toFixed(te.DECIMAL_PLACES)} / ${this.model.memoryLimit.toFixed(te.DECIMAL_PLACES)} ${this.model.units}`,this.model.usageWarning?n().createElement(p,{title:"Current mem usage",source:e,className:g}):n().createElement(p,{title:"Current mem usage",source:e})}}!function(e){class t extends x.VDomModel{constructor(e){super(),this._currentMemory=0,this._memoryLimit=null,this._metricsAvailable=!1,this._units="B",this._warn=!1,this._poll=new ie.Poll({factory:()=>te.factory(),frequency:{interval:e.refreshRate,backoff:!0},name:"@jupyterlab/statusbar:MemoryUsage#metrics"}),this._poll.ticked.connect((e=>{const{payload:t,phase:s}=e.state;if("resolved"!==s){if("rejected"===s){const e=this._metricsAvailable;return this._metricsAvailable=!1,this._currentMemory=0,this._memoryLimit=null,this._units="B",void(e&&this.stateChanged.emit())}}else this._updateMetricsValues(t)}))}get metricsAvailable(){return this._metricsAvailable}get currentMemory(){return this._currentMemory}get memoryLimit(){return this._memoryLimit}get units(){return this._units}get usageWarning(){return this._warn}dispose(){super.dispose(),this._poll.dispose()}_updateMetricsValues(e){const t=this._metricsAvailable,s=this._currentMemory,i=this._memoryLimit,n=this._units,r=this._warn;if(null===e)this._metricsAvailable=!1,this._currentMemory=0,this._memoryLimit=null,this._units="B",this._warn=!1;else{const t=e.rss,s=e.limits.memory?e.limits.memory.rss:null,[i,n]=te.convertToLargestUnit(t),r=!!e.limits.memory&&e.limits.memory.warn;this._metricsAvailable=!0,this._currentMemory=i,this._units=n,this._memoryLimit=s?s/te.MEMORY_UNIT_LIMITS[n]:null,this._warn=r}this._currentMemory===s&&this._units===n&&this._memoryLimit===i&&this._metricsAvailable===t&&this._warn===r||this.stateChanged.emit(void 0)}}e.Model=t}(ne||(ne={})),function(e){e.DECIMAL_PLACES=2,e.MEMORY_UNIT_LIMITS={B:1,KB:1024,MB:1048576,GB:1073741824,TB:1099511627776,PB:0x4000000000000},e.convertToLargestUnit=function(t){return t<e.MEMORY_UNIT_LIMITS.KB?[t,"B"]:e.MEMORY_UNIT_LIMITS.KB===t||t<e.MEMORY_UNIT_LIMITS.MB?[t/e.MEMORY_UNIT_LIMITS.KB,"KB"]:e.MEMORY_UNIT_LIMITS.MB===t||t<e.MEMORY_UNIT_LIMITS.GB?[t/e.MEMORY_UNIT_LIMITS.MB,"MB"]:e.MEMORY_UNIT_LIMITS.GB===t||t<e.MEMORY_UNIT_LIMITS.TB?[t/e.MEMORY_UNIT_LIMITS.GB,"GB"]:e.MEMORY_UNIT_LIMITS.TB===t||t<e.MEMORY_UNIT_LIMITS.PB?[t/e.MEMORY_UNIT_LIMITS.TB,"TB"]:[t/e.MEMORY_UNIT_LIMITS.PB,"PB"]};const t=se.ServerConnection.makeSettings(),s=q.URLExt.join(t.baseUrl,"metrics");e.factory=async function(){const e=se.ServerConnection.makeRequest(s,{},t),i=await e;return i.ok?await i.json():null}}(te||(te={}));var re,oe=s(81734),ae=s(18108);class le extends f.Widget{constructor(){super(),this._leftRankItems=[],this._rightRankItems=[],this._statusItems={},this._disposables=new ae.DisposableSet,this.addClass(M);const e=this.layout=new f.PanelLayout,t=this._leftSide=new f.Panel,s=this._middlePanel=new f.Panel,i=this._rightSide=new f.Panel;t.addClass(E),t.addClass(w),s.addClass(E),i.addClass(E),i.addClass(B),e.addWidget(t),e.addWidget(s),e.addWidget(i)}registerStatusItem(e,t){if(e in this._statusItems)throw new Error(`Status item ${e} already registered.`);const s=Object.assign(Object.assign({},re.statusItemDefaults),t),{align:i,item:n,rank:r}=s,o=()=>{this._refreshItem(e)};s.activeStateChanged&&s.activeStateChanged.connect(o);const a={id:e,rank:r};if(s.item.addClass(R),this._statusItems[e]=s,"left"===i){const e=this._findInsertIndex(this._leftRankItems,a);-1===e?(this._leftSide.addWidget(n),this._leftRankItems.push(a)):(oe.ArrayExt.insert(this._leftRankItems,e,a),this._leftSide.insertWidget(e,n))}else if("right"===i){const e=this._findInsertIndex(this._rightRankItems,a);-1===e?(this._rightSide.addWidget(n),this._rightRankItems.push(a)):(oe.ArrayExt.insert(this._rightRankItems,e,a),this._rightSide.insertWidget(e,n))}else this._middlePanel.addWidget(n);this._refreshItem(e);const l=new ae.DisposableDelegate((()=>{delete this._statusItems[e],s.activeStateChanged&&s.activeStateChanged.disconnect(o),n.parent=null,n.dispose()}));return this._disposables.add(l),l}dispose(){this._leftRankItems.length=0,this._rightRankItems.length=0,this._disposables.dispose(),super.dispose()}onUpdateRequest(e){this._refreshAll(),super.onUpdateRequest(e)}_findInsertIndex(e,t){return oe.ArrayExt.findFirstIndex(e,(e=>e.rank>t.rank))}_refreshItem(e){const t=this._statusItems[e];t.isActive()?(t.item.show(),t.item.update()):t.item.hide()}_refreshAll(){Object.keys(this._statusItems).forEach((e=>{this._refreshItem(e)}))}}!function(e){e.statusItemDefaults={align:"left",rank:0,isActive:()=>!0,activeStateChanged:void 0}}(re||(re={}));const he=new J.Token("@jupyterlab/statusbar:IStatusBar")}}]);
//# sourceMappingURL=768.dde2f0a.js.map